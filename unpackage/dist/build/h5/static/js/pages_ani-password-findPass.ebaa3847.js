(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_ani-password-findPass"],{"4bf5":function(t,s,e){"use strict";e("7a82"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,e("ac1f"),e("00b4");var i=function(t,s){return{chinese:/^([\u4E00-\u9FA5])*$/,idCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,phone:/^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9]))\d{8}$/,letterAndNumber:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,lettersAndNumbers_:/^w+$/,email:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/}[t].test(s)};s.default=i},"5f34":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAkBAMAAABoCkdnAAAAAXNSR0IArs4c6QAAAC1QTFRFAAAAMDAwMDAwMzMzMzMzMjIyMjIyMjIyMjIyMzMzMjIyMjIyMjIyMjIyMzMzHZCkWQAAAA50Uk5TABBAUF9wf4DAz9Df4O+nD3OoAAAAfklEQVQoz2NgqH4HB9sYGLjeIYEJDHVA8pUSEKwDMp4znAOSTxmAIA7IeM0AUvM2DQjugVgM71AAw7sTHXDQA+QqMMAB0ygXjWuA4DJjhiQ2brMVMveNAOM5JO4LBoY+CBcs+lqAcR9YFThC372b4gmmnqNG9wIGhhoEbzkDAIyX2KJqxtxQAAAAAElFTkSuQmCC"},6263:function(t,s,e){var i=e("24fb");s=i(!1),s.push([t.i,'.main[data-v-b63f757e]{margin-top:%?50?%;width:86%;margin-left:7%}.title[data-v-b63f757e]{position:relative;font-weight:700}.title[data-v-b63f757e]::before{content:"";width:%?8?%;height:%?40?%;top:%?5?%;left:%?-20?%;background:linear-gradient(180deg,#ec2c32,#fff);display:inline-block;position:absolute}.input-box[data-v-b63f757e]{width:88%;padding-left:6%}.phone-input[data-v-b63f757e]{border-bottom:%?1?% solid #f2f2f2;margin-left:%?10?%;padding:%?4?% %?20?%;width:88%;font-size:%?28?%;line-height:%?56?%;height:%?56?%}.icon-before[data-v-b63f757e]{width:%?32?%;height:%?42?%}.phohe-login[data-v-b63f757e]{color:#fff;background-color:#bc292d;border-radius:%?100?%}.verify-input[data-v-b63f757e]{border-bottom:%?1?% solid #f2f2f2;margin-right:%?30?%;padding:%?4?% %?20?%;line-height:%?56?%;height:%?56?%;font-size:14px;width:56%}.text4b[data-v-b63f757e]{font-size:%?28?%;width:%?150?%}.verify-box[data-v-b63f757e]{position:relative}.verify-box-err .error[data-v-b63f757e]{background-color:rgba(235,9,9,.1);border:%?2?% solid #bc292d;border-radius:%?8?%}.verify-box .error-text[data-v-b63f757e]{display:none;position:absolute;bottom:%?-40?%;right:%?10?%;font-size:%?24?%;color:#eb0909}.verify-box-err .error-text[data-v-b63f757e]{display:inline-block}.verify-code[data-v-b63f757e]{background-color:#e64949;color:#fff;padding:%?20?% %?20?%;display:inline-block;font-size:%?24?%;border-radius:%?30?%;height:%?60?%;line-height:%?24?%}.eye[data-v-b63f757e]{position:absolute;right:%?10?%}',""]),t.exports=s},"80d6":function(t,s,e){"use strict";e.r(s);var i=e("dfa5"),a=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},ba7a:function(t,s,e){var i=e("6263");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("0fa377cd",i,!0,{sourceMap:!1,shadowMode:!1})},c800:function(t,s,e){"use strict";e.r(s);var i=e("ed22"),a=e("80d6");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(n);e("cb17");var o=e("f0c5"),r=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"b63f757e",null,!1,i["a"],void 0);s["default"]=r.exports},cb17:function(t,s,e){"use strict";var i=e("ba7a"),a=e.n(i);a.a},dfa5:function(t,s,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=i(e("c7eb")),n=i(e("1da1"));e("ac1f"),e("00b4");var o=i(e("023a")),r=i(e("4bf5")),d={data:function(){return{passwordType:{password:"password",passwordAgain:"password"},step:1,phone:"",verifyText:"获取验证码",verifyDisabled:!1,smsKey:"",smsCode:"",password:"",passwordAgain:"",data:{newPass:""},verify:{password:!1,passwordAgain:!1}}},methods:{changePasswordType:function(t){this.passwordType[t]="password"===this.passwordType[t]?"text":"password"},passFun:function(){(0,r.default)("letterAndNumber",this.password)?this.verify.password=!1:this.verify.password=!0},passwordAgainFun:function(){this.verify.passwordAgain=!1},toNextStep:function(t){var s=this;if(2===t){var e=/^(((13[0-9]{1})|(14[0-9]{1})|(17[0-9]{1})|(15[0-3]{1})|(15[4-9]{1})|(18[0-9]{1})|(199))+\d{8})$/.test(this.phone);if(!this.phone||!e)return this.$util.showToast("请输入正确的手机号");this.$http.post("stuh5/login/isPhoneExist",{phone:this.phone}).then((function(e){200===e.code?s.step=t:s.$util.showToast(e.msg)})).catch((function(t){s.$util.showToast(t.msg),console.log(t)}))}if(3===t){var i=/^\d{4}$/.test(this.smsCode);if(!i)return this.$util.showToast("请输入正确的验证码");var o={smsKey:this.smsKey,smsCode:this.smsCode,callback:function(){var e=(0,n.default)((0,a.default)().mark((function e(i){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("回调验证码状态: ",i),i&&(s.step=t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};this.$store.dispatch("VERIFY_CODE",o)}},resetPasswordByPhone:function(){var t=this;return this.password?!this.verify.passwordAgain&&(!this.verify.password&&(this.password!==this.passwordAgain?(this.verify.passwordAgain=!0,!1):(this.verify.passwordAgain=!1,void this.$http.post("stuh5/login/resetPasswordByPhone",{phone:this.phone,password:(0,o.default)(this.password),smsKey:this.smsKey,smsCode:this.smsCode}).then((function(s){200===s.code?(t.$util.showToast("修改成功,将返回登录页登录"),setTimeout((function(){uni.navigateTo({url:"/pages/login/passLogin"})}),2e3)):t.$util.showToast(s.msg)})).catch((function(s){t.$util.showToast(s.msg),console.log(s)}))))):this.$util.showToast("请输入密码")},sandIdentifyCode:function(){var t=this;this.verifyDisabled=!0,this.$http.post("sms/sendCode",{mobile:this.phone}).then((function(s){200===s.code?(t.smsKey=s.data.smsKey,t.$util.showToast("发送成功,请注意查收短信")):t.$util.showToast(s.msg)})).catch((function(s){t.$util.showToast(s.msg),console.log(s)}));var s=null;s<=0&&(s=null);var e=60;this.verifyText="重发"+e+"秒",s=setInterval((function(){e--,t.verifyText="重发"+e+"秒",e<=0&&(clearInterval(s),t.verifyText="获取验证码",t.verifyDisabled=!1)}),1e3)}}};s.default=d},ed22:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var i={uIcon:e("9815").default},a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("v-uni-view",{staticClass:"main"},[1===t.step?i("v-uni-view",[i("v-uni-text",{staticClass:"title fz-36"},[t._v("找回密码")]),i("v-uni-view",{staticClass:"flex-align mt-80 input-box"},[i("img",{staticClass:"icon-before",attrs:{src:e("5f34"),alt:""}}),i("v-uni-input",{staticClass:"phone-input",attrs:{placeholder:"请输入手机号",type:"text",value:""},model:{value:t.phone,callback:function(s){t.phone=s},expression:"phone"}})],1),i("v-uni-view",{staticClass:"mt-100 mb-10"},[i("v-uni-button",{staticClass:"phohe-login",attrs:{type:"default"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.toNextStep(2)}}},[t._v("下一步")])],1)],1):2===t.step?i("v-uni-view",[i("v-uni-text",{staticClass:"title fz-36"},[t._v("找回密码")]),i("v-uni-view",{staticClass:"mt-30 input-box"},[i("v-uni-text",{staticClass:"c9",staticStyle:{"font-size":"14px"}},[t._v("为了您的账户安全，需要验证您的手机号： "+t._s(t.phone.substring(0,3)+"****"+t.phone.substr(t.phone.length-4)))])],1),i("v-uni-view",{staticClass:"flex-align mt-80 input-box"},[i("v-uni-input",{staticClass:"verify-input",attrs:{placeholder:"请输入验证码",type:"text",value:""},model:{value:t.smsCode,callback:function(s){t.smsCode=s},expression:"smsCode"}}),i("v-uni-button",{staticClass:"verify-code",attrs:{disabled:t.verifyDisabled},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.sandIdentifyCode.apply(void 0,arguments)}}},[t._v(t._s(t.verifyText))])],1),i("v-uni-view",{staticClass:"mt-100 mb-10"},[i("v-uni-button",{staticClass:"phohe-login",attrs:{type:"default"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.toNextStep(3)}}},[t._v("下一步")])],1)],1):i("v-uni-view",[i("v-uni-text",{staticClass:"title fz-36"},[t._v("设置新密码")]),i("v-uni-view",{staticClass:"flex-align mt-80 input-box verify-box",class:{"verify-box-err":t.verify.password}},[i("v-uni-text",{staticClass:"text4b"},[t._v("新密码")]),"password"===t.passwordType.password?i("v-uni-input",{staticClass:"uni-input-input phone-input error",attrs:{placeholder:"请输入新密码",type:"password"},on:{blur:function(s){arguments[0]=s=t.$handleEvent(s),t.passFun.apply(void 0,arguments)}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}):i("v-uni-input",{staticClass:"uni-input-input phone-input error",attrs:{placeholder:"请输入手机号",type:"text"},on:{blur:function(s){arguments[0]=s=t.$handleEvent(s),t.passFun.apply(void 0,arguments)}},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),i("u-icon",{staticClass:"eye",attrs:{name:"password"===t.passwordType.password?"eye":"eye-fill",size:"40rpx"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.changePasswordType("password")}}}),i("v-uni-text",{staticClass:"error-text"},[t._v("8-16个字符，必须包含数字和字母")])],1),i("v-uni-view",{staticClass:"flex-align mt-80 input-box verify-box",class:{"verify-box-err":t.verify.passwordAgain}},[i("v-uni-text",{staticClass:"text4b"},[t._v("确认密码")]),"password"===t.passwordType.passwordAgain?i("v-uni-input",{staticClass:"uni-input-input phone-input error",attrs:{placeholder:"请输入新密码",type:"password"},on:{blur:function(s){arguments[0]=s=t.$handleEvent(s),t.passwordAgainFun.apply(void 0,arguments)},input:function(s){arguments[0]=s=t.$handleEvent(s),t.passwordAgainFun.apply(void 0,arguments)}},model:{value:t.passwordAgain,callback:function(s){t.passwordAgain=s},expression:"passwordAgain"}}):i("v-uni-input",{staticClass:"uni-input-input phone-input error",attrs:{placeholder:"请输入新密码",type:"text"},on:{blur:function(s){arguments[0]=s=t.$handleEvent(s),t.passwordAgainFun.apply(void 0,arguments)},input:function(s){arguments[0]=s=t.$handleEvent(s),t.passwordAgainFun.apply(void 0,arguments)}},model:{value:t.passwordAgain,callback:function(s){t.passwordAgain=s},expression:"passwordAgain"}}),i("u-icon",{staticClass:"eye",attrs:{name:"password"===t.passwordType.passwordAgain?"eye":"eye-fill",size:"40rpx"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.changePasswordType("passwordAgain")}}}),i("v-uni-text",{staticClass:"error-text"},[t._v("两次密码不一致")])],1),i("v-uni-view",{staticClass:"mt-100 mb-10"},[i("v-uni-button",{staticClass:"phohe-login",attrs:{type:"default"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.resetPasswordByPhone.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)],1)},n=[]}}]);